(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{323:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"tip custom-block"},[t("p",[s._v("L2TP")])]),s._v(" "),t("p",[s._v("安装依赖")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" gcc gmp-devel xmlto bison flex xmlto libpcap-devel "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" vim-enhanced "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"openswan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openswan","aria-hidden":"true"}},[s._v("#")]),s._v(" openswan")]),s._v(" "),t("h3",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install","aria-hidden":"true"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openswan -y\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装openswan(建立预分享密匙)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config","aria-hidden":"true"}},[s._v("#")]),s._v(" Config")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以下文件没有则新建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ipsec.d/xxx.conf\n\nconn L2TP-PSK-NAT\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightsubnet")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vhost:%priv\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("also")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("L2TP-PSK-noNAT\n \nconn L2TP-PSK-noNAT\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("authby")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("secret\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pfs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("auto")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("add\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("keyingtries")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rekey")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ikelifetime")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("8h\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("keylife")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1h\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("transport\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("left")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("你的IP\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftprotoport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("/1701\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("right")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%any\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightprotoport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("/%any\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置预分享密匙")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ipsec.secrets\n\n\nIP地址  %any: PSK "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"预分享密匙"')]),s._v("\n\n以指定配置文件启动ipsec\nipsc start /etc/ipsec.conf\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("h2",{attrs:{id:"ppp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ppp","aria-hidden":"true"}},[s._v("#")]),s._v(" PPP")]),s._v(" "),t("h3",{attrs:{id:"install-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-2","aria-hidden":"true"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装ppp(管理接入账号)")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ppp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"config-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config-2","aria-hidden":"true"}},[s._v("#")]),s._v(" Config")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ppp/chap-secrets\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立连接账号")]),s._v("\nusername *  password  *\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (格式要相同)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"xl2tpd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xl2tpd","aria-hidden":"true"}},[s._v("#")]),s._v(" xl2tpd")]),s._v(" "),t("h3",{attrs:{id:"install-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-3","aria-hidden":"true"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xl2tpd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("提供L2TP服务"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"config-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config-3","aria-hidden":"true"}},[s._v("#")]),s._v(" Config")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/xl2tpd/xl2tpd.conf\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nipsec saref "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nlisten-addr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 本机IP\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("lns default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" range "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.2-192.168.1.100\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1\nrefuse chap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nrefuse pap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nrequire authentication "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nppp debug "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npppoptfile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /etc/ppp/options.xl2tpd\nlength bit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ppp/options.xl2tpd\n\nrequire-mschap-v2\nms-dns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8\nms-dns "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".4.4\nasyncmap "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nauth\ncrtscts\nlock\nhide-password\nmodem\ndebug\nname l2tpd\nproxyarp\nlcp-echo-interval "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\nlcp-echo-failure "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run","aria-hidden":"true"}},[s._v("#")]),s._v(" Run")]),s._v(" "),t("p",[s._v("service xl2tpd start")]),s._v(" "),t("p",[s._v("此时设备接上后并不能访问Intelnet")]),s._v(" "),t("h2",{attrs:{id:"转发配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转发配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 转发配置")]),s._v(" "),t("h3",{attrs:{id:"网卡转发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网卡转发","aria-hidden":"true"}},[s._v("#")]),s._v(" 网卡转发")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf\n\nnet.ipv4.ip_forward "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nnet.ipv4.conf.default.rp_filter "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.default.accept_source_route "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.all.send_redirects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.default.send_redirects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.all.log_martians "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.default.log_martians "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.all.accept_redirects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.conf.default.accept_redirects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnet.ipv4.icmp_ignore_bogus_error_responses "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nsysctl -p \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 应用当前规则")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"iptable-转发配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iptable-转发配置","aria-hidden":"true"}},[s._v("#")]),s._v(" iptable 转发配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("iptables -A INPUT -m policy --dir "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" --pol ipsec -j ACCEPT\niptables -A FORWARD -m policy --dir "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" --pol ipsec -j ACCEPT\niptables -t nat -A POSTROUTING -m policy --dir out --pol none -j MASQUERADE\niptables -A FORWARD -i ppp+ -p all -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT\niptables -A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT\niptables -A INPUT -m policy --dir "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" --pol ipsec -p udp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1701")]),s._v(" -j ACCEPT\niptables -A INPUT -p udp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" -j ACCEPT\niptables -A INPUT -p udp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4500")]),s._v(" -j ACCEPT\niptables -t nat -A POSTROUTING -s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0/24 -o eth0 -j MASQUERADE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);