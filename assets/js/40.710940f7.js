(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{334:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"tip custom-block"},[a("ol",[a("li",[s._v("这是一个vuepress主题，旨在添加博客所需的分类、TAB墙、分页、评论等能；"),a("br")]),s._v(" "),a("li",[s._v("你可以打开 "),a("a",{attrs:{href:"http://recoluan.gitlab.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("午后南杂"),a("OutboundLink")],1),s._v(" 来查看效果。")])])]),s._v(" "),a("h2",{attrs:{id:"server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server","aria-hidden":"true"}},[s._v("#")]),s._v(" Server")]),s._v(" "),a("h3",{attrs:{id:"nfs安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nfs安装","aria-hidden":"true"}},[s._v("#")]),s._v(" nfs安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils rpcbind\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /data/file\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /data\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /data/file\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"更改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 更改配置")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/exports\n/data/lys "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.0/24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,no_root_squash,no_all_squash,sync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n参数值    \t\t内容说明\nrw\tro    \t\t该目录分享的权限是可擦写 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("read-write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 或只读 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("read-only"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n\t    \t\t但最终能不能读写，还是与文件系统的 rwx 及身份有关。\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v("　　async    \t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" 代表数据会同步写入到内存与硬盘中，\n\t    \t\tasync 则代表数据会先暂存于内存当中，而非直接写入硬盘！\nno_root_squash　　\nroot_squash    \n\t\t\t\t客户端使用 NFS 文件系统的账号若为 root 时，\n\t\t\t\t系统该如何判断这个账号的身份？预设的情况下，\n\t\t\t\t客户端 root 的身份会由 root_squash 的设定压缩成 nfsnobody，\n\t\t\t\t如此对服务器的系统会较有保障。\n\t\t\t\t 但如果你想要开放客户端使用 root 身份来操作服务器的文件系统，\n\t\t\t\t 那么这里就得要开 no_root_squash 才行！\nall_squash    \t不论登入 NFS 的使用者身份为何，\n\t      \t\t他的身份都会被压缩成为匿名用户，\n\t      \t\t通常也就是 nobody"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nfsnobody"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nanonuid　　anongid    anon 意指 anonymous "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("匿名者"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 前面\n\t\t\t   \t关于 *_squash 提到的匿名用户的 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v(" 设定值，\n\t\t\t   \t通常为 nobody"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nfsnobody"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，但是你可以自行设定这个 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v(" 的值！\n\t\t\t   \t当然，这个 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v(" 必需要存在于你的 /etc/passwd 当中！\n\t\t\t   \tanonuid 指的是 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v(" 而 anongid 则是群组的 GID\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("固定传输端口\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysconfig/nfs\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RQUOTAD_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LOCKD_TCPPORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LOCKD_UDPPORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MOUNTD_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30003")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("STATD_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30004")]),s._v("\n\nexportfs -r\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置生效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" rpcbind start\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nfs start\nshowmount -e localhost\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查阅")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client","aria-hidden":"true"}},[s._v("#")]),s._v(" Client")]),s._v(" "),a("h3",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux","aria-hidden":"true"}},[s._v("#")]),s._v(" linux")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /file\n  创建挂载目录\nshowmount -e x.x.x.x\n  查看共享目录信息\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -t nfs x.x.x.x:/data/file /file -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("proto")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp -o nolock\n  提高稳定性用TCP，默认用UDP\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows","aria-hidden":"true"}},[s._v("#")]),s._v(" windows")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("控制面板---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("程序---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("启动或开启Windows功能---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("NFS\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("x.x.x.x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("file z:\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#挂载")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);